{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/get_risk_from_hobbies":{"post":{"summary":"Get Risk From Hobbies","description":"Assess risk from hobbies/activities with a single score.\n\nExample request:\n{\n    \"text\": \"Ich gehe regelmäßig Fallschirmspringen und Klettern. Außerdem spiele ich gerne Fußball am Wochenende.\"\n}\n\nExample response:\n{\n    \"risk_score\": 7,\n    \"explanation\": \"Fallschirmspringen ist eine Hochrisiko-Sportart mit erhöhtem Verletzungs- und Todesrisiko. Klettern trägt ebenfalls zu einem erhöhten Risiko bei.\"\n}","operationId":"get_risk_from_hobbies_get_risk_from_hobbies_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnderwriteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnderwriteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/assess_physical_health":{"post":{"summary":"Assess Physical Health","description":"Endpoint 1: Physical health complaints, illnesses, accidents in past 5 years\n\nQuestion: Have you had any health complaints, illnesses, consequences of accidents, \nor congenital conditions in the past five years for which you sought treatment?\n\nExpected format: List of treatment objects with flexible structure\n\nExample request:\n{\n    \"treatments\": [\n        {\n            \"period_start\": \"2022-01\",\n            \"period_end\": \"2023-06\",\n            \"reason\": \"Rückenschmerzen\",\n            \"therapist_name\": \"Dr. Schmidt\",\n            \"therapist_address\": \"Orthopädie München\",\n            \"treatment_completed\": true\n        },\n        {\n            \"period_start\": \"2021-02\",\n            \"period_end\": \"2021-03\",\n            \"reason\": \"Grippeerkrankung\",\n            \"therapist_name\": \"Dr. Müller\",\n            \"therapist_address\": \"Hausarzt Berlin\",\n            \"treatment_completed\": true\n        },\n        {\n            \"period_start\": \"2020-06\",\n            \"reason\": \"Bluthochdruck\",\n            \"therapist_name\": \"Dr. Wagner\",\n            \"treatment_completed\": false\n        }\n    ]\n}\n\nExample response:\n{\n    \"overall_risk_score\": 6,\n    \"treatment_scores\": [\n        {\n            \"line_number\": 1,\n            \"treatment_text\": \"{\"period_start\": \"2022-01\", \"period_end\": \"2023-06\", \"reason\": \"Rückenschmerzen\", \"therapist_name\": \"Dr. Schmidt\", \"therapist_address\": \"Orthopädie München\", \"treatment_completed\": true}\",\n            \"risk_score\": 4,\n            \"explanation\": \"Rückenschmerzen sind häufig, die Behandlung ist abgeschlossen - moderates Risiko\"\n        },\n        {\n            \"line_number\": 2,\n            \"treatment_text\": \"{\"period_start\": \"2021-02\", \"period_end\": \"2021-03\", \"reason\": \"Grippeerkrankung\", \"therapist_name\": \"Dr. Müller\", \"therapist_address\": \"Hausarzt Berlin\", \"treatment_completed\": true}\",\n            \"risk_score\": 1,\n            \"explanation\": \"Normale Grippeerkrankung, vollständig ausgeheilt - sehr niedriges Risiko\"\n        },\n        {\n            \"line_number\": 3,\n            \"treatment_text\": \"{\"period_start\": \"2020-06\", \"reason\": \"Bluthochdruck\", \"therapist_name\": \"Dr. Wagner\", \"treatment_completed\": false}\",\n            \"risk_score\": 6,\n            \"explanation\": \"Chronischer Bluthochdruck, noch in Behandlung - mittleres bis hohes Risiko\"\n        }\n    ],\n    \"summary\": \"Überwiegend behandelbare Erkrankungen. Der laufende Bluthochdruck erhöht das Gesamtrisiko auf ein mittleres Niveau.\"\n}","operationId":"assess_physical_health_assess_physical_health_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlexibleHealthRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthQuestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/assess_mental_health":{"post":{"summary":"Assess Mental Health","description":"Endpoint 2: Psychiatric, psychological, or psychotherapeutic treatment\n\nQuestion: Have you ever been advised or treated by a psychiatrist, psychologist, \nor psychotherapist?\n\nExpected format: List of treatment objects with flexible structure\n\nExample request:\n{\n    \"treatments\": [\n        {\n            \"period_start\": \"2019-03\",\n            \"period_end\": \"2020-09\",\n            \"reason\": \"Burnout nach Jobwechsel\",\n            \"therapist_name\": \"Dr. Weber\",\n            \"treatment_completed\": true\n        },\n        {\n            \"period_start\": \"2022-01\",\n            \"reason\": \"Angststörung\",\n            \"therapist_name\": \"Prof. Klein\",\n            \"treatment_completed\": false\n        }\n    ]\n}\n\nExample response:\n{\n    \"overall_risk_score\": 7,\n    \"treatment_scores\": [\n        {\n            \"line_number\": 1,\n            \"treatment_text\": \"{\"period_start\": \"2019-03\", \"period_end\": \"2020-09\", \"reason\": \"Burnout nach Jobwechsel\", \"therapist_name\": \"Dr. Weber\", \"treatment_completed\": true}\",\n            \"risk_score\": 5,\n            \"explanation\": \"Burnout durch konkreten Auslöser, Behandlung abgeschlossen - mittleres Risiko mit Rezidivgefahr\"\n        },\n        {\n            \"line_number\": 2,\n            \"treatment_text\": \"{\"period_start\": \"2022-01\", \"reason\": \"Angststörung\", \"therapist_name\": \"Prof. Klein\", \"treatment_completed\": false}\",\n            \"risk_score\": 7,\n            \"explanation\": \"Laufende Behandlung einer Angststörung - hohes Risiko für Berufsunfähigkeit und Rückfall\"\n        }\n    ],\n    \"summary\": \"Die laufende psychiatrische Behandlung wegen Angststörung stellt ein erhöhtes Risiko dar. In Kombination mit der Burnout-Vorgeschichte besteht erhöhte Rezidivgefahr.\"\n}","operationId":"assess_mental_health_assess_mental_health_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlexibleHealthRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthQuestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/assess_medication":{"post":{"summary":"Assess Medication","description":"Endpoint 3: Regular medication use in past 5 years\n\nQuestion: Have you taken or do you take medication regularly in the past five years \n(excluding contraception)?\n\nExpected format: List of medication objects with flexible structure\n\nExample request:\n{\n    \"treatments\": [\n        {\n            \"period_start\": \"2020-03\",\n            \"reason\": \"Bluthochdruck\",\n            \"medication_name\": \"Ramipril\",\n            \"dosage\": \"5mg täglich\",\n            \"treatment_completed\": false\n        },\n        {\n            \"period_start\": \"2021-06\",\n            \"period_end\": \"2022-02\",\n            \"reason\": \"Rückenschmerzen\",\n            \"medication_name\": \"Ibuprofen\",\n            \"dosage\": \"400mg bei Bedarf\",\n            \"treatment_completed\": true\n        },\n        {\n            \"period_start\": \"2019-09\",\n            \"reason\": \"Depression\",\n            \"medication_name\": \"Sertralin\",\n            \"dosage\": \"50mg täglich\"\n        }\n    ]\n}\n\nExample response:\n{\n    \"overall_risk_score\": 7,\n    \"treatment_scores\": [\n        {\n            \"line_number\": 1,\n            \"treatment_text\": \"{\"period_start\": \"2020-03\", \"reason\": \"Bluthochdruck\", \"medication_name\": \"Ramipril\", \"dosage\": \"5mg täglich\", \"treatment_completed\": false}\",\n            \"risk_score\": 6,\n            \"explanation\": \"Dauerhafte Blutdruckmedikation deutet auf chronische Herz-Kreislauf-Erkrankung - mittleres bis hohes Risiko\"\n        },\n        {\n            \"line_number\": 2,\n            \"treatment_text\": \"{\"period_start\": \"2021-06\", \"period_end\": \"2022-02\", \"reason\": \"Rückenschmerzen\", \"medication_name\": \"Ibuprofen\", \"dosage\": \"400mg bei Bedarf\", \"treatment_completed\": true}\",\n            \"risk_score\": 3,\n            \"explanation\": \"Zeitlich begrenzte Schmerzmedikation, abgeschlossen - niedriges Risiko\"\n        },\n        {\n            \"line_number\": 3,\n            \"treatment_text\": \"{\"period_start\": \"2019-09\", \"reason\": \"Depression\", \"medication_name\": \"Sertralin\", \"dosage\": \"50mg täglich\"}\",\n            \"risk_score\": 7,\n            \"explanation\": \"Langfristige Antidepressiva-Einnahme deutet auf chronische Depression - hohes Risiko für Berufsunfähigkeit\"\n        }\n    ],\n    \"summary\": \"Mehrere chronische Medikationen laufen noch. Besonders die Antidepressiva-Dauermedikation erhöht das Risiko deutlich.\"\n}","operationId":"assess_medication_assess_medication_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlexibleHealthRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthQuestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/assess_work_disability":{"post":{"summary":"Assess Work Disability","description":"Endpoint 4: Work disability or inability to work in past 5 years\n\nQuestion: Is your ability to work or earn currently restricted, or have you been \nfully or partially unable to work for more than four consecutive weeks in the past \nfive years due to health reasons?\n\nExpected format: List of work disability objects with flexible structure\n\nExample request:\n{\n    \"treatments\": [\n        {\n            \"period_start\": \"2022-03\",\n            \"period_end\": \"2022-05\",\n            \"reason\": \"Bandscheibenvorfall mit OP\",\n            \"recovery_status\": \"Vollständig wiederhergestellt\"\n        },\n        {\n            \"period_start\": \"2023-01\",\n            \"period_end\": \"2023-03\",\n            \"reason\": \"Burnout\",\n            \"recovery_status\": \"Teilweise arbeitsfähig\"\n        },\n        {\n            \"period_start\": \"2021-11\",\n            \"period_end\": \"2021-12\",\n            \"reason\": \"Komplizierter Armbruch\"\n        }\n    ]\n}\n\nExample response:\n{\n    \"overall_risk_score\": 8,\n    \"treatment_scores\": [\n        {\n            \"line_number\": 1,\n            \"treatment_text\": \"{\"period_start\": \"2022-03\", \"period_end\": \"2022-05\", \"reason\": \"Bandscheibenvorfall mit OP\", \"recovery_status\": \"Vollständig wiederhergestellt\"}\",\n            \"risk_score\": 6,\n            \"explanation\": \"OP-bedürftiger Bandscheibenvorfall mit 8 Wochen Arbeitsunfähigkeit - mittleres bis hohes Rezidivrisiko\"\n        },\n        {\n            \"line_number\": 2,\n            \"treatment_text\": \"{\"period_start\": \"2023-01\", \"period_end\": \"2023-03\", \"reason\": \"Burnout\", \"recovery_status\": \"Teilweise arbeitsfähig\"}\",\n            \"risk_score\": 8,\n            \"explanation\": \"Längere Arbeitsunfähigkeit wegen Burnout, nur teilweise wiederhergestellt - hohes Risiko für erneute AU\"\n        },\n        {\n            \"line_number\": 3,\n            \"treatment_text\": \"{\"period_start\": \"2021-11\", \"period_end\": \"2021-12\", \"reason\": \"Komplizierter Armbruch\"}\",\n            \"risk_score\": 4,\n            \"explanation\": \"Unfallbedingte AU, vollständig geheilt - niedriges bis mittleres Risiko\"\n        }\n    ],\n    \"summary\": \"Mehrere längere Arbeitsunfähigkeitsphasen in den letzten Jahren. Besonders kritisch ist das Burnout mit nur teilweiser Wiederherstellung - sehr hohes Risiko für erneute Berufsunfähigkeit.\"\n}","operationId":"assess_work_disability_assess_work_disability_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlexibleHealthRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthQuestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"FlexibleHealthRequest":{"properties":{"treatments":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Treatments","description":"List of treatment objects with any structure"}},"type":"object","required":["treatments"],"title":"FlexibleHealthRequest","description":"Accepts any list of treatment objects with flexible structure"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthQuestionResponse":{"properties":{"overall_risk_score":{"type":"integer","title":"Overall Risk Score"},"treatment_scores":{"items":{"$ref":"#/components/schemas/TreatmentRiskScore"},"type":"array","title":"Treatment Scores"},"summary":{"type":"string","title":"Summary"}},"type":"object","required":["overall_risk_score","treatment_scores","summary"],"title":"HealthQuestionResponse"},"TreatmentRiskScore":{"properties":{"line_number":{"type":"integer","title":"Line Number"},"treatment_text":{"type":"string","title":"Treatment Text"},"risk_score":{"type":"integer","title":"Risk Score"},"explanation":{"type":"string","title":"Explanation"}},"type":"object","required":["line_number","treatment_text","risk_score","explanation"],"title":"TreatmentRiskScore"},"UnderwriteRequest":{"properties":{"text":{"type":"string","title":"Text","description":"Freitext zu Hobbys, Aktivitäten, Verhalten"}},"type":"object","required":["text"],"title":"UnderwriteRequest"},"UnderwriteResponse":{"properties":{"risk_score":{"type":"integer","title":"Risk Score"},"explanation":{"type":"string","title":"Explanation"}},"type":"object","required":["risk_score","explanation"],"title":"UnderwriteResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}